<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coastal Threat Alert System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container-fluid">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <i class="fas fa-water me-2"></i>Coastal Threat Alert System
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#dashboard">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#dashboard">Alerts</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#contactModal">Contact Us</a>
                        </li>
                        <li class="nav-item" id="user-nav-item">
                            <button class="btn btn-outline-light ms-2" data-bs-toggle="modal" data-bs-target="#loginModal">
                                <i class="fas fa-sign-in-alt me-1"></i> Login
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login or Create Account</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="loginChoiceStep" class="login-step">
                        <h5 class="mb-3 text-center">Welcome!</h5>
                        <button id="showHaveAccountBtn" class="btn btn-primary w-100 mb-2">
                            <i class="fas fa-sign-in-alt me-2"></i>Already Have an Account
                        </button>
                        <button id="showCreateAccountBtn" class="btn btn-secondary w-100">
                            <i class="fas fa-user-plus me-2"></i>Create a New Account
                        </button>
                    </div>

                    <div id="loginStep1" class="login-step" style="display: none;">
                        <button type="button" class="btn btn-sm btn-outline-secondary mb-3 login-back-btn">&larr; Back</button>
                        <form id="initialLoginForm">
                            <div class="mb-3">
                                <label for="loginEmailPhone" class="form-label">Email or Phone Number</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                                    <input type="text" class="form-control" id="loginEmailPhone" placeholder="Enter your email or phone" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="loginPassword" class="form-label">Password</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                    <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Continue</button>
                        </form>
                    </div>

                    <div id="loginStep2" class="login-step" style="display: none;">
                        <button type="button" class="btn btn-sm btn-outline-secondary mb-3 login-back-btn">&larr; Back</button>
                        <h6 class="mb-3 text-center">We found these accounts. Please select one to log in.</h6>
                        <div id="accountList" class="list-group"></div>
                        <hr>
                        <button type="button" id="forceCreateNewAccountBtn" class="btn btn-secondary w-100">
                            <i class="fas fa-plus-circle me-1"></i> Create a new account instead
                        </button>
                    </div>
                    
                    <div id="loginStep3" class="login-step" style="display: none;">
                        <button type="button" class="btn btn-sm btn-outline-secondary mb-3 login-back-btn">&larr; Back</button>
                        <h6 class="mb-3 text-center">Complete your new account details.</h6>
                        <form id="newUserForm">
                            <div class="mb-3">
                                <label for="newFullName" class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="newFullName" placeholder="Enter your full name" required>
                            </div>
                            <div class="mb-3">
                                <label for="newEmail" class="form-label">Email Address (Optional)</label>
                                <input type="email" class="form-control" id="newEmail" placeholder="e.g., name@example.com">
                            </div>
                            <div class="mb-3">
                                <label for="newPhone" class="form-label">Phone Number (Optional)</label>
                                <input type="tel" class="form-control" id="newPhone" placeholder="e.g., 9876543210" pattern="\d*" title="Please enter numbers only.">
                            </div>
                            <div class="mb-3">
                                <label for="newPassword" class="form-label">Create Password</label>
                                <input type="password" class="form-control" id="newPassword" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Create Account</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="profileModalLabel">My Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="profileForm">
                        <div class="text-center mb-4">
                            <img src="https://i.stack.imgur.com/34AD2.jpg" id="profilePicPreview" class="rounded-circle" alt="Profile Picture" width="120" height="120" style="object-fit: cover;">
                            <div class="mt-3">
                                <label for="profilePicUpload" class="btn btn-sm btn-outline-primary">
                                    <i class="fas fa-camera me-1"></i> Change Picture
                                </label>
                                <input type="file" class="form-control d-none" id="profilePicUpload" accept="image/*">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="profileFullName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="profileFullName" required>
                        </div>
                        <div class="mb-3">
                            <label for="profileEmail" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="profileEmail">
                        </div>
                        <div class="mb-3">
                            <label for="profilePhone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="profilePhone" pattern="\d*" title="Please enter numbers only.">
                        </div>
                        <button type="submit" class="btn btn-primary w-100 mb-2">
                            <i class="fas fa-save me-1"></i> Save Changes
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="aboutModalLabel"><i class="fas fa-info-circle me-2"></i>About the Coastal Area Alert System</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>The Coastal Area Alert System is a web-based platform designed to enhance public safety and awareness in coastal regions. The website provides real-time alerts and notifications about potential coastal threats such as high tides, cyclones, flooding, and tsunamis.</p>
                    <h5 class="mt-4">Key features include:</h5>
                    <ul class="mt-3">
                        <li><strong>Live Location Detection</strong> – Automatically fetches the user’s device location to provide location-specific alerts.</li>
                        <li><strong>Interactive Map</strong> – Displays coastal areas, highlighting regions under threat with clear visual markers.</li>
                        <li><strong>Instant Alerts</strong> – Users receive timely notifications about hazards to ensure quick response and preparedness.</li>
                        <li><strong>Information Hub</strong> – The platform shares updates, guidelines, and safety measures for people living in or traveling to coastal zones.</li>
                        <li><strong>User-Friendly Interface</strong> – Simple, responsive, and mobile-friendly design that makes critical information accessible anytime, anywhere.</li>
                    </ul>
                    <hr>
                    <p class="mt-3">This website acts as a digital coastal safety companion, empowering citizens with knowledge and real-time updates to minimize risks and support disaster preparedness.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="contactModalLabel"><i class="fas fa-envelope me-2"></i>Contact Us</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>We’d love to hear from you! If you have any questions, suggestions, or need assistance regarding coastal safety alerts, feel free to reach out.</p>
                    <hr>
                    <ul class="list-unstyled" style="line-height: 2;">
                        <li class="mb-2">
                            <i class="fas fa-phone fa-fw me-2"></i> <strong>Phone:</strong> <a href="tel:+917653041630" class="text-white text-decoration-none">+91-7653041630</a>
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-envelope fa-fw me-2"></i> <strong>Email:</strong> <a href="mailto:support@coastalalert.gmail.com" class="text-white text-decoration-none">support@coastalalert.gmail.com</a>
                        </li>
                        <li>
                            <i class="fas fa-map-marker-alt fa-fw me-2"></i> <strong>Address:</strong><br>
                            <span class="ms-4">Coastal Safety Monitoring Center, Chennai, India</span>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="loginSuccessToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success text-white">
                <i class="fas fa-check-circle me-2"></i>
                <strong class="me-auto">Success</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                You have successfully logged in!
            </div>
        </div>
    </div>

    <section class="hero-section">
        <div class="container text-center position-relative">
            <h1 class="display-4 fw-bold">Protecting Our Coasts with AI</h1>
            <p class="lead">A high-tech watchdog monitoring for cyclones, floods, pollution, and algal blooms</p>
            <a href="#dashboard" class="btn btn-light btn-lg mt-3">View Live Dashboard</a>
        </div>
    </section>

    <section id="dashboard" class="py-5">
        <div class="container">
            <h2 class="text-center section-title">Live Monitoring Dashboard</h2>
            
            <div class="row mb-4">
                <div class="col-md-8 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                            <h5 class="mb-0"><i class="fas fa-map me-2"></i>India Weather Threat Map</h5>
                            <div><span class="badge bg-danger">Live</span></div>
                        </div>
                        <div class="card-body position-relative p-0">
                            <div class="map-container">
                                <div id="coastalMap"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card alert-card h-100">
                        <div class="card-header bg-danger text-white">
                            <h5 class="mb-0"><i class="fas fa-exclamation-triangle me-2"></i>Active Alerts</h5>
                        </div>
                        <div class="card-body">
                            <div class="alert-list">
                                </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card info-card text-center h-100"><div class="card-body"><i class="fas fa-temperature-high feature-icon"></i><h5>Sea Temperature</h5><h3>28.7°C</h3><p class="text-success small"><i class="fas fa-arrow-down me-1"></i> Normal range</p></div></div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card warning-card text-center h-100"><div class="card-body"><i class="fas fa-wind feature-icon"></i><h5>Wind Speed</h5><h3>45 km/h</h3><p class="text-warning small"><i class="fas fa-arrow-up me-1"></i> Increasing</p></div></div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card success-card text-center h-100"><div class="card-body"><i class="fas fa-tint feature-icon"></i><h5>Water Quality</h5><h3>92%</h3><p class="text-success small"><i class="fas fa-check-circle me-1"></i> Good</p></div></div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card info-card text-center h-100"><div class="card-body"><i class="fas fa-satellite feature-icon"></i><h5>Active Sensors</h5><h3>187/192</h3><p class="text-success small"><i class="fas fa-check-circle me-1"></i> 97% operational</p></div></div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-md-6 mb-4">
                    <div class="card"><div class="card-header bg-primary text-white"><h5 class="mb-0"><i class="fas fa-chart-line me-2"></i>Cyclone Probability Forecast</h5></div><div class="card-body"><canvas id="cycloneChart" height="250"></canvas></div></div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card"><div class="card-header bg-primary text-white"><h5 class="mb-0"><i class="fas fa-chart-area me-2"></i>Flood Risk Assessment</h5></div><div class="card-body"><canvas id="floodChart" height="250"></canvas></div></div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header bg-primary text-white"><h5 class="mb-0"><i class="fas fa-location-arrow me-2"></i>Live Location Tracking</h5></div>
                        <div class="card-body">
                            <div class="location-tracing">
                                <div class="tracing-controls">
                                    <button id="enableLocation" class="btn btn-primary"><i class="fas fa-location-crosshairs me-1"></i> Enable Location Tracking</button>
                                    <button id="disableLocation" class="btn btn-secondary" disabled><i class="fas fa-ban me-1"></i> Disable Tracking</button>
                                    <button id="simulateLocation" class="btn btn-info"><i class="fas fa-map-marker-alt me-1"></i> Simulate Location</button>
                                </div>
                                <div class="tracing-status status-inactive" id="tracingStatus"><i class="fas fa-info-circle me-1"></i> Enable location tracking for personalized alerts.</div>
                                <div class="location-details mt-3">
                                    <div class="row">
                                        <div class="col-md-3"><p><strong>Latitude:</strong> <span id="latitude">--</span></p></div>
                                        <div class="col-md-3"><p><strong>Longitude:</strong> <span id="longitude">--</span></p></div>
                                        <div class="col-md-3"><p><strong>Accuracy:</strong> <span id="accuracy">--</span></p></div>
                                        <div class="col-md-3"><p><strong>Last Update:</strong> <span id="lastUpdate">--</span></p></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Coastal Threat Alert System</h5>
                    <p>Protecting our coastlines with advanced AI technology and real-time monitoring.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#dashboard" class="text-white">Dashboard</a></li>
                        <li><a href="#dashboard" class="text-white">Alerts</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Developers</h5>
                    <ul class="list-unstyled">
                        <li>Tirri Madhan</li>
                        <li>Bhavya Bhetariya</li>
                        <li>Nancy Gujar</li>
                        <li>Yash Desai</li>
                    </ul>
                </div>
            </div>
            <hr class="mt-4 bg-light">
            <div class="text-center">
                <p class="mb-0">&copy; 2025 Coastal Threat Alert System. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <div class="chatbot-container">
        <div id="chatbot-window" class="chatbot-window">
            <div class="chatbot-header">
                <i class="fas fa-robot me-2"></i> Coastal Safety Bot
                <button id="close-chatbot" class="btn-close"></button>
            </div>
            <div id="chatbot-body" class="chatbot-body">
                </div>
            <div class="chatbot-footer">
                <form id="chatbot-form">
                    <input type="text" id="chatbot-input" class="form-control" placeholder="Ask something..." autocomplete="off">
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </div>
        <button id="chatbot-toggle-btn" class="chatbot-toggle-btn">
            <i class="fas fa-comment-dots"></i>
            <i class="fas fa-times"></i>
        </button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
